<html>

  <body>

 <!-- Object Entry search result -->

      <div th:fragment="object-search-result" class="result-list-item" th:object="${obj}">
        <span class="float-right result-list-item-element type-subtype font-italic font-weight-light">
          <span th:replace="fragments/details :: type-subtype">Term category</span>
        </span>
        <a th:href="${(#mvc.url('COC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}">
          <h2 class="result-list-item-element label bbaw-libertine" th:utext="${{#strings.replace(#strings.replace(obj.name,'〉',''),'〈','')}}">Theben</h2>
        </a>
        <small class="text-muted text-monospace d-flex" th:text="*{id}">ID</small>
        <hr/>
      </div>

 <!-- Text Entry search result -->

      <div th:fragment="text-search-result" class="result-list-item" th:object="${obj}">
        <span class="float-right result-list-item-element type-subtype font-italic font-weight-light">
          <span th:replace="fragments/details :: type-subtype">Term category</span>
        </span>
        <a th:href="${(#mvc.url('TOC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}">
          <h2 class="result-list-item-element label bbaw-libertine" th:utext="${{#strings.replace(#strings.replace(obj.name,'〉',''),'〈','')}}">Theben</h2>
        </a>
        <small class="text-muted text-monospace d-flex" th:text="*{id}">ID</small>
        <hr/>
      </div>

      <!-- Ths Entry search result -->

      <div th:fragment="ths-search-result" class="result-list-item" th:object="${obj}">
        <span class="float-right result-list-item-element type-subtype font-italic font-weight-light">
          <span th:replace="fragments/details :: type-subtype">Term category</span>
        </span>
     <a th:href="${(#mvc.url('TC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}">
          <h2 class="result-list-item-element label bbaw-libertine" th:utext="${{'<shortlabel>'+obj.name+'</shortlabel>'}}">Theben</h2>
        </a>
        <small class="text-muted text-monospace d-flex" th:text="'ID '+*{id}">ID</small>
        <hr/>
      </div>


      <!-- LEMMA search result -->

      <div th:fragment="lemma-search-result" class="result-list-item"
          th:object="${obj}" th:id="|lemma-${obj.id}|">
        <a th:replace="fragments/common :: review-state(${obj})"/>
        <a th:replace="fragments/common :: lemmaAttestationsCount(${obj})"/>
        <div th:class="${(obj.reviewState =='published-inactive') ? 'inactive' :''}">
         <!-- line 1 -->
          <a th:href="${(#mvc.url('LC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}">
          <span th:if="${obj.type} == 'root'">&radic;</span><h2 class="result-list-item-element transcription bbaw-libertine" th:text="*{name}">nfr</h2>
          <span class="result-list-item-element hieroglyphs" th:if="${obj.glyphs.unicode == null}">
          <span th:unless="${obj.type == 'root'}" class="subcorpus" th:text="#{|dict_${obj.dictionaryName}|}">Demotic</span>
          </span>
          <span class="result-list-item-element hieroglyphs" th:if="${obj.glyphs.unicode != null}">
            <span th:replace="fragments/details :: hieroglyphsSuche">N35:G43</span>
          </span>
          </a>
		  <!--class="result-list-item-element lemma-id text-muted"  -->
          <button type="button" th:id="'button_' + *{id}" class="result-list-item-element lemma-id btn btn-light btn-sm text-left text-decoration-none copy-to-clipboard-btn" onClick="">
            (ID<span class="ml-1" th:text="*{id}">33410</span>)
          </button>
		  	 <script th:inline="javascript">
					/*<![CDATA[*/
						var id = /*[[*{id}]]*/ '0';
						document.getElementById("button_"+id).setAttribute( "onClick", "javascript: copyStringToClipboard(id.substring(7,id.length))");
					/*]]>*/
		     </script> 
         </div>
      <div th:class="${(obj.reviewState =='published-inactive') ? 'inactive' :''}">
          <!-- line 2 -->
          <a th:href="${(#mvc.url('LC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}">
          <span class="result-list-item-element wordClass font-italic font-weight-light">
            <span th:replace="fragments/details :: type-subtype">Part of speech</span>
          </span>
          <span class="result-list-item-element translations">
            <th:block th:each="entry : *{translations}" th:insert="fragments/common :: single-lang-translation(${entry})"/>
          </span>
		   <span class="text-muted" th:if="${obj.annotated}"><i class="fas fa-sticky-note"></i> <span th:text="#{object_has_comment}">With comments</span></span>
          <span class="result-list-item-element attested-timespan" th:unless="*{timeSpan} == null">
		     <i class="text-muted fas fa-calendar mr-0 ml-2"></i>
            <span th:insert="fragments/details :: display-year(*{timeSpan.begin})">3000 BCE</span>
            <span>&#8212;</span>
            <span th:insert="fragments/details :: display-year(*{timeSpan.end})">1500 CE</span>
          </span>
          <span class="result-list-item-element bibliography" th:unless="${#lists.isEmpty(obj.bibliography)}">
            <i class="text-muted fas fa-book mr-0 ml-2"></i>
            <span th:each="bibl : *{bibliography}" class="bibliographic-reference">
              <span class="font-weight-light" th:text="${bibl}">Bib. ref</span>
              <small th:unless="${biblStat.last}" class="text-muted" th:text="'&bull;'"/>
            </span>
          </span>
          </a>
        </div>
        <hr/>
      </div>


     <!-- Text sentences -->

      <div th:fragment="text-sentences-table" th:object="${obj}">
      
      <!-- Block view (first in line for href to sentence-id) -->
      <table class="sentence-line-mode">
         <tr th:each="obj : ${searchResults}" class="occ-list-item" th:object="${obj}" th:with="hasGlyphs=*{hasGlyphs},isArtificiallyAligned=*{isArtificiallyAligned},position=*{getContextPosition}">
              <td th:id="'sentence-'+(${position} +1)"><a th:href="${(#mvc.url('SC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}">&nbsp;<span class="fas fa-arrow-circle-right"></span> (<span th:text="${position}+1">1</span>)</a></td>
              
              <td>
                <div class="mt-sm-1 py-sm-1">
                    <div th:replace="fragments/common :: sentence-hieroglyphs"/>
                    <th:block th:if="${isArtificiallyAligned AND hasGlyphs}"><a th:replace="fragments/common :: artificial-alignment"></a></th:block>
                </div>
              </td>

              <td>
                <div class="mt-sm-1 py-sm-1">
                  <div th:replace="fragments/common :: variants-info"/>
                  <div th:replace="fragments/common :: sentence-transcription"/>
                  <div class="text-danger" th:if="*{hasComment}"><i class="fas fa-sticky-note"></i> <a th:href="${(#mvc.url('SC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}" class="text-dark" th:text="#{object_has_comment}">With comment(s)</a></div>
                  <!--<div class="text-muted" th:if="*{hasAnnotation}"><i class="fas fa-sticky-note"></i> <span th:text="#{object_has_annotation}">With annotation(s)</span></div>-->
                </div>
              </td>

              <td class="translations">
               <div class="mt-sm-1 py-sm-1">
                <th:block th:each="entry : *{translations}"> 
                  <p th:replace="fragments/common :: single-lang-translation-block(${entry})"/> 			
                </th:block>
                </div>
              </td>
           </tr>
        </table>

        <!-- Annotation view --> 
        <div class="container-annotation-switch">
        
        <div th:each="obj : ${searchResults}" class="result-list-item occ-list-item" th:object="${obj}" th:with="hasGlyphs=*{hasGlyphs},isArtificiallyAligned=*{isArtificiallyAligned},position=*{getContextPosition}">
        
          <div class="mt-sm-3 py-sm-1">
            <div class="container-annotation">
                   <div class="mr-sm-2"><a class="highlighted-link" th:href="${(#mvc.url('SC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}"><span class="fas fa-arrow-circle-right"></span>&nbsp;(<span th:text="${position}+1">1</span>)</a></div>
				         <div th:each="token : *{tokens}"  th:id="|block-${token.id}|">
								<!--Bug: ul/li-Struktur ungültig-->
					         <ul class="annotation-block"  th:classappend="${(token.lemma.id != null and #request.getParameter('tokens[0].lemma.id') == token.lemma.id) ? 'highlight' : '' }" th:with="isLinkable=${#bools.isTrue(token.lemma.id)}">
								  <div class="occ-list-item-element">
								  		<li th:replace="fragments/common :: token-word-id"/>
								  		<hr class="blockline bid">  
								  </div>
							      <th:block th:if="${hasGlyphs}">
									  <div class="occ-list-item-element hieroglyphs">
											<a th:if="${isLinkable}" th:href="'/lemma/'+${token.lemma.id}" target="_blank" rel="opener"><li th:replace="fragments/common :: token-hieroglyphs"/></a>
											<hr class="blockline"> 
									  </div>
									  <div  th:unless="${isLinkable}"class="occ-list-item-element hieroglyphs">
											<li th:replace="fragments/common :: token-hieroglyphs"/>
											<hr class="blockline"> 
									  </div>
								  </th:block>
								   <div class="occ-list-item-element">
								  		<a th:if="${isLinkable}" th:href="'/lemma/'+${token.lemma.id}" target="_blank" rel="opener"><li th:replace="fragments/common :: token-transcription"/></a>
								  		<hr class="blockline"> 
								  </div>
								   <div th:unless="${isLinkable}" class="occ-list-item-element">
								  		<li th:replace="fragments/common :: token-transcription"/>
								  		<hr class="blockline"> 
								  </div>
						          <div class="occ-list-item-element">
						          		<li th:replace="fragments/common :: token-word-class"/>
						          		<hr class="blockline bwc">  
								  </div>
								  <div class="occ-list-item-element">
								  		<li th:replace="fragments/common :: token-translation"/>
								  		<hr class="blockline btr">  
								  </div>
						          <div class="occ-list-item-element">
						             	<li th:replace="fragments/common :: token-bts-glossing"/>
						             	<hr class="blockline bgloss"> 
					              </div>
							      <div class="occ-list-item-element">      
								        <li th:replace="fragments/common :: token-ling-glossing"/>
								        <hr class="blockline bling">  
								  </div>
						    </ul>
			         	</div>
                 <!--<th:block th:if="${hasGlyphs} AND ${isArtificiallyAligned}"><a th:replace="fragments/common :: artificial-alignment"></a></th:block>-->
               </div>
            </div>
            
            <div th:if="*{hasComment}"><i class="fas fa-sticky-note"></i> <a th:href="${(#mvc.url('SC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}" th:text="#{object_has_comment}" class="text-danger">With comment(s)</a></div>
	          
           <div class="result-list-item-element translations">
             <th:block th:each="entry : *{translations}"> 
               <p th:replace="fragments/common :: single-lang-translation-block(${entry})"/> 			
             </th:block>
           </div>
         </div>
       </div>
 
     </div>

      <!-- SENTENCE search result -->

      <div th:fragment="sentence-search-result" class="result-list-item mt-3" th:object="${obj}" th:with="hasGlyphs=*{hasGlyphs},isArtificiallyAligned=*{isArtificiallyAligned}">

      <!-- Same for Both views -->
     <hr class="marked-hr"/>
     
 		<div class="occ-list-item-element mt-2">
	      	<div th:replace="fragments/common :: variants-info"/>
		</div>     

      <!-- Block view -->
        <div class="sentence-line-mode" >

          <div class="occ-list-item-element mt-sm-3 py-sm-1">
            
            <th:block th:if="${hasGlyphs}">
			    <th:block th:if="${isArtificiallyAligned}"><a th:replace="fragments/common :: artificial-alignment"></a></th:block>
              <div th:replace="fragments/common :: sentence-hieroglyphs"/>
            </th:block>
            <div th:replace="fragments/common :: sentence-transcription"/>
          </div>
        </div>
        
        <!-- Annotation view --> 
        <div class="container-annotation-switch">
          <div class="mt-sm-3 py-sm-1">
            <div class="container-annotation">
				         <div th:each="token : *{tokens}"  th:id="|block-${token.id}|">
								<!--Bug: ul/li-Struktur ungültig-->
					         <ul class="annotation-block"  th:classappend="${((token.lemma.id != null or token.id != null) and ((#request.getParameter('tokens[0].lemma.id') == token.lemma.id and token.lemma.id != null) or (#request.getParameter('tokens[1].lemma.id') == token.lemma.id and token.lemma.id != null) or (#request.getParameter('tokens[2].lemma.id') == token.lemma.id and token.lemma.id != null)  or (searchTokenId == token.id))) ? 'highlight' : '' }" th:with="isLinkable=${#bools.isTrue(token.lemma.id)}">
								  <div class="occ-list-item-element">
								  		<li th:replace="fragments/common :: token-word-id"/>
								  		<hr class="blockline bid">  
								  </div>
							      <th:block th:if="${hasGlyphs}">
									  <div class="occ-list-item-element hieroglyphs">
											<a th:if="${isLinkable}" th:href="'/lemma/'+${token.lemma.id}" target="_blank" rel="opener"><li th:replace="fragments/common :: token-hieroglyphs"/></a>
											<hr class="blockline"> 
									  </div>
									  <div  th:unless="${isLinkable}"class="occ-list-item-element hieroglyphs">
											<li th:replace="fragments/common :: token-hieroglyphs"/>
											<hr class="blockline"> 
									  </div>
								  </th:block>
								   <div class="occ-list-item-element">
								  		<a th:if="${isLinkable}" th:href="'/lemma/'+${token.lemma.id}" target="_blank" rel="opener"><li th:replace="fragments/common :: token-transcription"/></a>
								  		<hr class="blockline"> 
								  </div>
								   <div th:unless="${isLinkable}" class="occ-list-item-element">
								  		<li th:replace="fragments/common :: token-transcription"/>
								  		<hr class="blockline"> 
								  </div>
						          <div class="occ-list-item-element">
						          		<li th:replace="fragments/common :: token-word-class"/>
						          		<hr class="blockline bwc">  
								  </div>
								  <div class="occ-list-item-element">
								  		<li th:replace="fragments/common :: token-translation"/>
								  		<hr class="blockline btr">  
								  </div>
						          <div class="occ-list-item-element">
						             	<li th:replace="fragments/common :: token-bts-glossing"/>
						             	<hr class="blockline bgloss"> 
					              </div>
							      <div class="occ-list-item-element">      
								        <li th:replace="fragments/common :: token-ling-glossing"/>
								        <hr class="blockline bling">  
								  </div>
						    </ul>
			         	</div>
						  <th:block th:if="${hasGlyphs} AND ${isArtificiallyAligned}"><a th:replace="fragments/common :: artificial-alignment"></a></th:block>
		            </div>
	            </div>
	             
        </div> 
        
        
         <!-- Same for Both views -->
		<div class="text-danger" th:if="*{hasComment}"><i class="fas fa-sticky-note"></i> <a th:href="${(#mvc.url('SC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}" class="text-dark" th:text="#{object_has_comment}">With comment(s)</a></div>
		
        <span class="result-list-item-element translations">
          <th:block th:each="entry : *{translations}"> 
				<p th:replace="fragments/common :: single-lang-translation-block(${entry})"/> 			
		    </th:block>
        </span>

        <div class="result-list-item-element paths" th:insert=" :: search-result-object-paths('sentence')"/>
         <div class="result-list-item-element">  
		</div>

		<div class="occ-list-item-element">
	      	<div th:replace="fragments/common :: sentence-dating"/>
		</div>
		
		<div class="occ-list-item-element">
				<div th:replace="fragments/common :: sentence-editor"/>	
		</div>             

      </div>




      <!-- LEMMA search results sort order select -->

      <div th:fragment="lemma-sort-order-select">
        <div style="display: none">
          <!-- hidden form for storage of search parameters -->
          <form th:replace="fragments/search/forms :: #lemma-search"/>
        </div>

        <div class="input-group mb-sm-3">
          <div class="input-group-prepend">
            <label class="input-group-text" for="select-sort-order" th:text="#{field_label_sort_order}">Order by</label>
          </div>
          <select class="custom-select select-sort-order" id="select-sort-order" th:field="${searchQuery.sort}" form="lemma-search">
            <option th:each="value : ${sortOrders}" th:value="${value}" th:text="#{|field_value_label_sort_by_${value}_type_lemma|}">Alphabetic asc.</option>
            <script th:inline="javascript">
              //<![CDATA[
            	  
              $('#select-sort-order').change(
                function() {
                	//document.getElementById("wordClass-type").selectedIndex=2; 
                	console.log("Resubmit");
                	//console.log(document.getElementById("wordClass-type")[0].value);
                  $('form#lemma-search').submit();
                }
              );
              //]]>
            </script>
          </select>
      <div class="input-group-append" style="display: none">
            <button form="lemma-search" id="submit-lemma-search" type="submit"/> 
             
          </div> 
         
        </div>
      </div>
      
         <!-- Attestations search results sort order select -->

      <div th:fragment="attestations-sort-order-select">      
        <div class="input-group mb-sm-3">
          <div class="input-group-prepend">
            <label class="input-group-text" for="select-sort-order" th:text="#{field_label_sort_order}">Order by</label>
          </div>	
          		
          <select class="custom-select select-sort-order" id="select-sort-order" th:field="${searchQuery.sort}" form="sentence-search" 
          th:onchange="'window.location.href = \'' + @{/search/sentence?tokens[0].lemma.id=} + ${lemmaIDs[0]} + '&sort=\' + this.value' "   >
            <option th:each="value : ${sortOrders}" th:value="${value}" th:text="#{|field_value_label_sort_by_${value}_type_sentence|}">Alphabetic asc.</option>
          </select>
           
      <div class="input-group-append" style="display: none">
            <button form="sentence-search" id="submit-sentence-search" type="submit"/>              
          </div>        
        </div>
      </div>


    <!-- Text metadata button  -->
    
    <div class="text-metadata-button" th:fragment="text-metadata-button" id="text-metadata-button"> 
        <a th:href="${(#mvc.url('TOC#getSingleObjectDetailsPage').arg(0,obj.context.textId)).build()}">
           <button id="text-metadata-button" type="button" class="btn btn-danger text-left text-decoration-none">
              <span class="fas fa-arrow-circle-right"></span>&nbsp;
              <span th:text="#{button_text_metadata}">Text metadata</span>
           </button>
           </a>
     </div>
        
        

      <!-- search facets -->

      <div th:fragment="search-facets" th:if="${facets} != null and ${!#maps.isEmpty(facets)}">
        <hr/>
        <div class="btn btn-block btn-secondary disabled text-right" th:text="#{result_page_facets}">Facets</div>
        <div th:each="facet : ${facets}" th:with="label=|${objectType}_search_facet_${facet.key}|">
          <div class="btn btn-block btn-secondary text-left"
               th:with="label=#{${#strings.replace(label,'.','_')}}"
               th:text="${label}">
            Facet name
          </div>
          <th:block th:with="urlBuilder=${T(org.springframework.web.servlet.support.ServletUriComponentsBuilder)}">
            <div class="mx-3 text-left d-flex"
                 th:each="termcount : ${facet.value}"
                 th:with="label=|field_value_label_${facet.key}_${termcount.key}|">
              <div class="btn btn-inline btn-red text-left p-2">
                <a th:href="${urlBuilder.fromCurrentRequest().replaceQueryParam(facet.key, termcount.key).replaceQueryParam('page').toUriString()}">
                  <span class="fas fa-arrow-circle-right"></span>
                  <span th:with="label=${#messages.msgOrNull(#strings.replace(label,'.','_'))}"
                        th:text="${label != null ? label : termcount.key}">
                    term
                  </span>
                </a>
              </div>
              <div class="p-2">
                <span th:text="${termcount.value}"
                      class="badge badge-light badge-pill border font-italic">
                  count
                </span>
              </div>
            </div>
          </th:block>

        </div>
        <hr/>
      </div>

 <!-- hide search results properties button rack  general -->

      <div th:fragment="hide-properties-buttons" class="hide-properties-buttons">
      <!-- <input type="num_text" id="result" /> -->
     
      
      <th:block th:each="e : ${hideableProperties}" th:with="property=${e.key}">
          <div th:replace=" :: hide-property-button(${property}, null)"/>
          <th:block th:with="subProperties=${e.value}">
            <div th:unless="${#lists.isEmpty(subProperties)}"
                class="indented-buttons indented-buttons-annotation"
                >  
              <th:block th:each="subProperty : ${subProperties}">
                <div th:replace=" :: hide-property-button(${property}, ${subProperty})"/>
              </th:block>
            </div>
          </th:block>
        </th:block>
      </div>
      
      <!-- hide search results properties button rack  general -->

      <div th:fragment="hideTextsentences-properties-buttons" class="hideTextsentences-properties-buttons">
      <!-- <input type="num_text" id="result" /> -->
   
      <th:block th:each="e : ${hideableTextsentencesProperties}" th:with="property=${e.key}">
          <div th:replace=" :: hideTextsentences-property-button(${property}, null)"/>
          <th:block th:with="subProperties=${e.value}">
            <div th:unless="${#lists.isEmpty(subProperties)}"
                class="indented-buttons indented-buttons-annotation"
                >
              <th:block th:each="subProperty : ${subProperties}">
                <div th:replace=" :: hideTextsentences-property-button(${property}, ${subProperty})"/>
              </th:block>
            </div>
          </th:block>
        </th:block>
      </div>

      <!-- Hide property Button.
        hides particular DOM elements of search result list items. In order to be hideable
        by such a button, those elements must have the classes `.result-list-item-element`
        AND `${property}`. A special case is the second parameter `${subProperty}` being
        not `null`, in which case it is used to select any child element for hide/show effect
        (also by class). In contrast to the parent/ancestor element, the child element does
        not need to be of class `.result-list-item-element`.

        params:
          property (string): class name of `.result-list-item-element` elements to toggle
          subProperty (string, null): class name of child element to toggle instead (optional)
      -->
      <th:block th:fragment="hide-property-button(property, subProperty)"
          th:with="suffix=${subProperty != null} ? |${property}-${subProperty}| : ${property}">
        <button type="button"
            class="btn btn-secondary btn-block text-left" th:id="|hide-property-button-${suffix}|">
          <i class="fas fa-plus-circle" id="on"></i>
          <i class="fas fa-minus-circle" id="off"></i>
          <span th:text="#{|button_label_hide_property_${suffix}|}">Property name</span>
          <script th:inline="javascript">
            //<![CDATA[
            {
              let name = /*[[${suffix}]]*/ null;
         
              let property = /*[[${property}]]*/ null;
              let subProperty = /*[[${subProperty}]]*/ null;
              
              let objectType = /*[[${objectType}]]*/ null;
              let button = $(`#hide-property-button-${name}`);
             
              let selector = `.result-list-item-element.${property}`;
              let selectorSW = `.container-annotation-switch`;
              let selectorSW2 = `.container-annotation`;
             // let selectorWordClass =`.container-annotation.word-class`;
              let selectorWordClass = `.switchannotation-wordclass`;
              let selectorTLAGlossing = `.switchannotation-tlaglossing`;
              let selectorLingGlossing = `.switchannotation-linguisticglossing`;
              let selectorTransl = `.switchannotation-tokentranslation`;
              let selectorId = `.switchannotation-wordtokenid`;
              //let selectorTR=`.translation`;
              //let selectorDate=`.dates`;
              //let selectorEditor=`.simpleed`;
              let selectorSW1=`.sentence-line-mode`;
              let selh=`.token-glyphs`;
           let selwc=`.bwc`;
           let selgl=`.bgloss`;
           let selling=`.bling`;
           let seltr=`.btr`;
           let selid=`.bid`;
           let seltrgen=`.translations`;
           let seldate=`.textdate`;
           let seled=`.texteditors`;
          $(`#hide-property-button-switchannotation`).addClass("btn-danger anno-block-btn");
        	  if(name=="hieroglyphs"){
        		  if(getUserSetting("corpus-hieroglyphs")=="true"){
        			  button.children('i#off').toggle();        			
        			  $(selh).toggle();
                   }
        		  else {
        			  button.children('i#on').toggle();        			 
        		  }
        	  }
        	  else if(name=="translation"){
        		  if(getUserSetting("corpus-translation")=="true"){
        			  button.children('i#off').toggle();        			
        			  //$(selectorTR).toggle();     		   		 
        	   		  $(seltrgen).toggle();
                   }
                 else {
        			  button.children('i#on').toggle();        			 
        		  }
        	  }
        	  else if(name=="dating"){
        		  if(getUserSetting("corpus-dating")=="true"){
        			  button.children('i#off').toggle();        			
        			  //$(selectorDate).toggle(); 
        		   		 
        	   		  $(seldate).toggle();
                   }
                 else {
        			  button.children('i#on').toggle();
        			 
        		  }
        	  }
        	  else if(name=="texteditor"){
        		  if(getUserSetting("corpus-texteditor")=="true"){
        			  button.children('i#off').toggle();        			
        			  //$(selectorEditor).toggle(); 
        		   		 
        	   		  $(seled).toggle();
                   }
                 else {
        			  button.children('i#on').toggle();
        			 
        		  }
        	  }
        	
        else if(name=="switchannotation"){
        		  if(getUserSetting("AnnotationBlockVisible")=="true"){
        			  button.children('i#on').toggle();    
        			  $('.sentence-line-mode').hide();
                   }
                 else {
                	 $('.sentence-line-mode').show();
        			  button.children('i#off').toggle();
        		  }
        }
        else if(name=="switchannotation-wordclass"){
            		  if(getUserSetting("WordClassVisible") != "false"){
            			  button.children('i#on').toggle();        			
            			  $(selwc).show(); 
     	   		
                       }
                     else {
            			  button.children('i#off').toggle();
            			  $(selwc).hide(); 
            		  }
            	  }
        else if(name=="switchannotation-tlaglossing"){
  		  if(getUserSetting("TLAFlexcodeVisible") != "false"){
  			  button.children('i#on').toggle();        			
  			  $(selgl).show(); 
  	                  }
           else {
  			  button.children('i#off').toggle();
  			  $(selgl).hide(); 
  			 
  		  }
  	  }
        else if(name=="switchannotation-linguisticglossing"){
    		  if(getUserSetting("LingGlossVisible") != "false"){
    			  button.children('i#on').toggle();        			
    			  $(selling).show(); 
    	       
               }
             else {
    			  button.children('i#off').toggle();
    			  $(selling).hide(); 		 
    		  }
    	  } 
        else if(name=="switchannotation-tokentranslation"){
  		  if(getUserSetting("TranslVisible") != "false"){
  			  button.children('i#on').toggle();        			
  			  $(seltr).show(); 
  	       
             }
           else {
  			  button.children('i#off').toggle();
  			  $(seltr).hide(); 
  		  }
  	  } 
        else if(name=="switchannotation-wordtokenid"){
  		  if(getUserSetting("WidVisible")=="true"){
  			  button.children('i#on').toggle();        			
  			  $(selid).show();   	       
             }
           else {
  			  button.children('i#off').toggle();
  			  $(selid).hide(); 
  		  }
  	  } 
          	  
           button.click(() => {
         if(name=="hieroglyphs"){   
        	  $(selh).fadeToggle('slow'); 
     		  button.children('svg').toggle();
     		 
     		  storeUserSetting("corpus-hieroglyphs",""+ button.children('svg#off').attr('style') == 'display: none;');
        }
       if(name=="switchannotation-tlaglossing"){   
        	// $(selectorWordClass).fadeToggle('slow');
       	  $(selgl).fadeToggle('slow'); 
       	// $(bgl).fadeToggle('slow'); 
    		  button.children('svg').toggle();
    	
    		  storeUserSetting("TLAFlexcodeVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
       }
       if(name=="switchannotation-linguisticglossing"){   
       	
      	  $(selling).fadeToggle('slow'); 
      	
   		  button.children('svg').toggle();
   	
   		  storeUserSetting("LingGlossVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
      }
       if(name=="switchannotation-tokentranslation"){   
       	
      	  $(seltr).fadeToggle('slow'); 
      	
   		  button.children('svg').toggle();
   	
    	  storeUserSetting("TranslVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
      }
       if(name=="switchannotation-wordtokenid"){   
       	
      	  $(selid).fadeToggle('slow'); 
      	
   		  button.children('svg').toggle();
   	
    	  storeUserSetting("WidVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
      }
       if(name=="switchannotation-wordclass"){   
       	
      	  $(selwc).fadeToggle('slow'); 
      	
   		  button.children('svg').toggle();
   	
    	  storeUserSetting("WordClassVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
      }
         if(name=="switchannotation"){   
    		  button.children('svg').toggle();
    		  $('.sentence-line-mode').toggle();

/*   		  storeUserSetting("AnnotationBlockVisible",""+ button.children('svg#on').attr('style') == 'display: none;');*/

         }
         
         if(name=="translation"){
   		     //$(selectorTR).fadeToggle('slow'); 
   		 
   		  $(seltrgen).slideToggle('fast');
   		  button.children('svg').toggle();
   		  storeUserSetting("corpus-translation",""+ button.children('svg#off').attr('style') == 'display: none;');
   	    }
         
         if(name=="dating"){
   		      //$(selectorDate).fadeToggle('slow'); 
   		 
   		     $(seldate).slideToggle('fast');
   		  button.children('svg').toggle();
   			  storeUserSetting("corpus-dating",""+ button.children('svg#off').attr('style') == 'display: none;');
   	  }
   	  if(name=="texteditor"){
   		  //$(selectorEditor).fadeToggle('slow'); 
   		 
   		  $(seled).slideToggle('fast');
   		  button.children('svg').toggle();
   			  storeUserSetting("corpus-texteditor",""+ button.children('svg#off').attr('style') == 'display: none;');
   	  }
        	   
           });
            }
   
            //]]>
          </script>
        </button>
      </th:block>
      
      <!-- Hide TextSentences properties buttons functionality -->
      
      
      <th:block th:fragment="hideTextsentences-property-button(property, subProperty)"
          th:with="suffix=${subProperty != null} ? |${property}-${subProperty}| : ${property}">
        <button type="button"
            class="btn btn-secondary btn-block text-left" th:id="|hideTextsentences-property-button-${suffix}|">
          <i class="fas fa-plus-circle" id="on"></i>
          <i class="fas fa-minus-circle" id="off"></i>
          <span th:text="#{|button_label_hideTextsentences_property_${suffix}|}">Property name</span>
          <script th:inline="javascript">
            //<![CDATA[
            {
              let name = /*[[${suffix}]]*/ null;
         
              let property = /*[[${property}]]*/ null;
              let subProperty = /*[[${subProperty}]]*/ null;
              
              let objectType = /*[[${objectType}]]*/ null;
              let button = $(`#hideTextsentences-property-button-${name}`);
             
              let selector = `.result-list-item-element.${property}`;
              let selectorSW = `.container-annotation-switch`;
              let selectorSW2 = `.container-annotation`;
             // let selectorWordClass =`.container-annotation.word-class`;
              let selectorWordClass = `.switchannotation-wordclass`;
              let selectorTLAGlossing = `.switchannotation-tlaglossing`;
              let selectorLingGlossing = `.switchannotation-linguisticglossing`;
              let selectorTransl = `.switchannotation-tokentranslation`;
              let selectorId = `.switchannotation-wordtokenid`;
              //let selectorTR=`.translation`;
              //let selectorDate=`.dates`;
              //let selectorEditor=`.simpleed`;
              let selectorSW1=`.sentence-line-mode`;
              let selh=`.token-glyphs`;
           let selwc=`.bwc`;
           let selgl=`.bgloss`;
           let selling=`.bling`;
           let seltr=`.btr`;
           let selid=`.bid`;
           let seltrgen=`.translation`;
         
          $(`#hideTextsentences-property-button-switchannotation`).addClass("btn-danger anno-block-btn");
        	  if(name=="hieroglyphs"){
        		  if(getUserSetting("corpus-hieroglyphs")=="true"){
        			  button.children('i#off').toggle();        			
        			  $(selh).toggle();
                   }
        		  else {
        			  button.children('i#on').toggle();        			 
        		  }
        	  }
        	  else if(name=="translation"){
        		  if(getUserSetting("corpus-translation")=="true"){
        			  button.children('i#off').toggle();        			
        			  //$(selectorTR).toggle();     		   		 
        	   		  $(seltrgen).toggle();
                   }
                 else {
        			  button.children('i#on').toggle();        			 
        		  }
        	  }
        	
        	
        else if(name=="switchannotation"){
        		  if(getUserSetting("AnnotationBlockVisible")=="true"){
        			  button.children('i#on').toggle();    
        			  $('.sentence-line-mode').hide();
                   }
                 else {
                	 $('.sentence-line-mode').show();
        			  button.children('i#off').toggle();
        		  }
        }
        else if(name=="switchannotation-wordclass"){
            		  if(getUserSetting("WordClassVisible") != "false"){
            			  button.children('i#on').toggle();        			
            			  $(selwc).show(); 
     	   		
                       }
                     else {
            			  button.children('i#off').toggle();
            			  $(selwc).hide(); 
            		  }
            	  }
        else if(name=="switchannotation-tlaglossing"){
  		  if(getUserSetting("TLAFlexcodeVisible") != "false"){
  			  button.children('i#on').toggle();        			
  			  $(selgl).show(); 
  	                  }
           else {
  			  button.children('i#off').toggle();
  			  $(selgl).hide(); 
  			 
  		  }
  	  }
        else if(name=="switchannotation-linguisticglossing"){
    		  if(getUserSetting("LingGlossVisible") != "false"){
    			  button.children('i#on').toggle();        			
    			  $(selling).show(); 
    	       
               }
             else {
    			  button.children('i#off').toggle();
    			  $(selling).hide(); 		 
    		  }
    	  } 
        else if(name=="switchannotation-tokentranslation"){
  		  if(getUserSetting("TranslVisible") != "false"){
  			  button.children('i#on').toggle();        			
  			  $(seltr).show(); 
  	       
             }
           else {
  			  button.children('i#off').toggle();
  			  $(seltr).hide(); 
  		  }
  	  } 
        else if(name=="switchannotation-wordtokenid"){
  		  if(getUserSetting("WidVisible")=="true"){
  			  button.children('i#on').toggle();        			
  			  $(selid).show();   	       
             }
           else {
  			  button.children('i#off').toggle();
  			  $(selid).hide(); 
  		  }
  	  } 
          	  
           button.click(() => {
         if(name=="hieroglyphs"){   
        	  $(selh).fadeToggle('slow'); 
     		  button.children('svg').toggle();
     		 
     		  storeUserSetting("corpus-hieroglyphs",""+ button.children('svg#off').attr('style') == 'display: none;');
        }
       if(name=="switchannotation-tlaglossing"){   
        	// $(selectorWordClass).fadeToggle('slow');
       	  $(selgl).fadeToggle('slow'); 
       	// $(bgl).fadeToggle('slow'); 
    		  button.children('svg').toggle();
    	
    		  storeUserSetting("TLAFlexcodeVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
       }
       if(name=="switchannotation-linguisticglossing"){   
       	
      	  $(selling).fadeToggle('slow'); 
      	
   		  button.children('svg').toggle();
   	
   		  storeUserSetting("LingGlossVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
      }
       if(name=="switchannotation-tokentranslation"){   
       	
      	  $(seltr).fadeToggle('slow'); 
      	
   		  button.children('svg').toggle();
   	
    	  storeUserSetting("TranslVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
      }
       if(name=="switchannotation-wordtokenid"){   
       	
      	  $(selid).fadeToggle('slow'); 
      	
   		  button.children('svg').toggle();
   	
    	  storeUserSetting("WidVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
      }
       if(name=="switchannotation-wordclass"){   
       	
      	  $(selwc).fadeToggle('slow'); 
      	
   		  button.children('svg').toggle();
   	
    	  storeUserSetting("WordClassVisible",""+ button.children('svg#on').attr('style') == 'display: none;');
      }
         if(name=="switchannotation"){   
    		  button.children('svg').toggle();
    		  $('.sentence-line-mode').toggle();

/*   		  storeUserSetting("AnnotationBlockVisible",""+ button.children('svg#on').attr('style') == 'display: none;');*/

         }
         
         if(name=="translation"){
   		     //$(selectorTR).fadeToggle('slow'); 
   		 
   		  $(seltrgen).slideToggle('fast');
   		  button.children('svg').toggle();
   		  storeUserSetting("corpus-translation",""+ button.children('svg#off').attr('style') == 'display: none;');
   	    }
         
  
        	   
           });
            }
   
            //]]>
          </script>
        </button>
      </th:block>
      
      
      
      
      
      <!-- End  -->
      


      <!-- hide search results properties button rack  first part-->

      <div th:fragment="hide1Lemma-properties-buttons" class="hide1Lemma-properties-buttons">
      <!-- <input type="num_text" id="result" /> -->
     
      
      <th:block th:each="e : ${hideable1LemmaProperties}" th:with="property=${e.key}">
          <div th:replace=" :: hide1Lemma-property-button(${property}, null)"/>
          <th:block th:with="subProperties=${e.value}">
            <div th:unless="${#lists.isEmpty(subProperties)}"
                class="indented-buttons">
              <th:block th:each="subProperty : ${subProperties}">
                <div th:replace=" :: hide1Lemma-property-button(${property}, ${subProperty})"/>
              </th:block>
            </div>
          </th:block>
        </th:block>
      </div>

      <!-- Hide property Button.
        hides particular DOM elements of search result list items. In order to be hideable
        by such a button, those elements must have the classes `.result-list-item-element`
        AND `${property}`. A special case is the second parameter `${subProperty}` being
        not `null`, in which case it is used to select any child element for hide/show effect
        (also by class). In contrast to the parent/ancestor element, the child element does
        not need to be of class `.result-list-item-element`.

        params:
          property (string): class name of `.result-list-item-element` elements to toggle
          subProperty (string, null): class name of child element to toggle instead (optional)
      -->
      <th:block th:fragment="hide1Lemma-property-button(property, subProperty)"
          th:with="suffix=${subProperty != null} ? |${property}-${subProperty}| : ${property}">
        <button type="button"
            class="btn btn-secondary btn-block text-left" th:id="|hide1Lemma-property-button-${suffix}|">
          <i class="fas fa-plus-circle" id="on"></i>
          <i class="fas fa-minus-circle" id="off"></i>
          <span th:text="#{|button_label_hide1Lemma_property_${suffix}|}">Property name</span>
          <script th:inline="javascript">
            //<![CDATA[
            {
              let name = /*[[${suffix}]]*/ null;
              
              let property = /*[[${property}]]*/ null;
              let subProperty = /*[[${subProperty}]]*/ null;
              let x="subcorpus";
              let objectType = /*[[${objectType}]]*/ null;
              let button = $(`#hide1Lemma-property-button-${name}`);
              let selector = `.result-list-item-element.${property}`;
              let selector1 = `.${x}`;
              if (subProperty != null) {
                selector = `${selector} .${subProperty}`;
                //selector1 = `${selector1} .${x}`;
              }
              
              if(name!="hieroglyphs") {
	                 button.children('i#on').toggle();

              }
              else {button.children('i#off').toggle();  $(selector).toggle();
           
              

              }


   if(name!="hieroglyphs") {
	  
       if ((getUserSetting(`${objectType}-results-hide1Lemma-property-${name}`) != 'true')) {
	  
	 // if (getCookie(`${name}`) == 'true') {
           button.children('i').toggle();
         $(selector).toggle();
        }
	  }    
   else{
	    if ((getUserSetting(`${objectType}-results-hide1Lemma-property-${name}`) != 'false')) {
 	  
  	 // if (getCookie(`${name}`) == 'true') {
      button.children('i').toggle();
     
          $(selector).toggle();
      
    }
}

                	  
             
              button.click(() => {
            	  if(name=="hieroglyphs") {
              
            	 }
            	  $(selector).fadeToggle('slow');

                button.children('svg').toggle();
                storeUserSetting(`${objectType}-results-hide1Lemma-property-${name}`,""+ button.children('svg#on').attr('style') == 'display: none;');
              });
            }
            //]]>
          </script>
        </button>
      </th:block>
      
      
 <!-- hide search results properties button rack  second part-->

      <div th:fragment="hide2Lemma-properties-buttons" class="hide2Lemma-properties-buttons">
      <!-- <input type="num_text" id="result" /> -->
        
      
      <th:block th:each="e : ${hideable2LemmaProperties}" th:with="property=${e.key}">
          <div th:replace=" :: hide2Lemma-property-button(${property}, null)"/>
          <th:block th:with="subProperties=${e.value}">
            <div th:unless="${#lists.isEmpty(subProperties)}"
                class="indented-buttons">
              <th:block th:each="subProperty : ${subProperties}">
                <div th:replace=" :: hide2Lemma-property-button(${property}, ${subProperty})"/>
              </th:block>
            </div>
          </th:block>
        </th:block>
      </div>

      <!-- Hide property Button.
        hides particular DOM elements of search result list items. In order to be hideable
        by such a button, those elements must have the classes `.result-list-item-element`
        AND `${property}`. A special case is the second parameter `${subProperty}` being
        not `null`, in which case it is used to select any child element for hide/show effect
        (also by class). In contrast to the parent/ancestor element, the child element does
        not need to be of class `.result-list-item-element`.

        params:
          property (string): class name of `.result-list-item-element` elements to toggle
          subProperty (string, null): class name of child element to toggle instead (optional)
      -->
      <th:block th:fragment="hide2Lemma-property-button(property, subProperty)"
          th:with="suffix=${subProperty != null} ? |${property}-${subProperty}| : ${property}">
        <button type="button"
            class="btn btn-secondary btn-block text-left" th:id="|hide2Lemma-property-button-${suffix}|">
          <i class="fas fa-plus-circle" id="on"></i>
          <i class="fas fa-minus-circle" id="off"></i>
          <span th:text="#{|button_label_hide2Lemma_property_${suffix}|}">Property name</span>
          <script th:inline="javascript">
            //<![CDATA[
            {
              let name = /*[[${suffix}]]*/ null;
              
              let property = /*[[${property}]]*/ null;
              let subProperty = /*[[${subProperty}]]*/ null;
              let objectType = /*[[${objectType}]]*/ null;
              let button = $(`#hide2Lemma-property-button-${name}`);
              let selector = `.result-list-item-element.${property}`;
              if (subProperty != null) {
                selector = `${selector} .${subProperty}`;
              }
              
            
             button.children('i#on').toggle(); 
             //$(selector).toggle();

                	  if ((getUserSetting(`${objectType}-results-hide2Lemma-property-${name}`) != 'true')){
                    	  
                     	 // if (getCookie(`${name}`) == 'true') {
                         button.children('i').toggle();
                        $(selector).toggle();
                       }
             
              button.click(() => {
                $(selector).fadeToggle('slow');

                button.children('svg').toggle();
                storeUserSetting(`${objectType}-results-hide2Lemma-property-${name}`,""+ button.children('svg#on').attr('style') == 'display: none;');
              });
            }
            //]]>
          </script>
        </button>
      </th:block>
      
      
      
      
      

<!-- hide translation properties buttons rack -->

      <div th:fragment="show-properties-buttons" class="show-properties-buttons">
 
       
        <th:block th:each="e : ${showableProperties}" th:with="property=${e.key}">
          <div th:replace=" :: show-property-button(${property}, null)"/>
          <th:block th:with="subProperties=${e.value}">
            <div th:unless="${#lists.isEmpty(subProperties)}"
                class="indented-buttons idented-buttons-lang hide" style="display:block;">
              <th:block th:each="subProperty : ${subProperties}">
                <div th:replace=" :: show-property-button(${property}, ${subProperty})"/>
              </th:block>
            </div>
          </th:block>
        </th:block>
        
      </div>



      <!-- Translation property Button.
        hides particular DOM elements of search result list items. In order to be hideable
        by such a button, those elements must have the classes `.result-list-item-element`
        AND `${property}`. A special case is the second parameter `${subProperty}` being
        not `null`, in which case it is used to select any child element for hide/show effect
        (also by class). In contrast to the parent/ancestor element, the child element does
        not need to be of class `.result-list-item-element`.

        params:
          property (string): class name of `.result-list-item-element` elements to toggle
          subProperty (string, null): class name of child element to toggle instead (optional)
      -->
      <th:block th:fragment="show-property-button(property, subProperty)"
          th:with="suffix=${subProperty != null} ? |${property}-${subProperty}| : ${property}">
        <button type="button"
            class="btn btn-secondary btn-block text-left text-decoration-none show-detail" th:id="|show-property-button-${suffix}|">
           
          <i class="fas fa-plus-circle" id="on"></i>
          <i class="fas fa-minus-circle" id="off"></i>
          <span th:text="#{|button_label_show_property_${suffix}|}">Property name</span>
          <script th:inline="javascript">
            //<![CDATA[
            {
              let name = /*[[${suffix}]]*/ null;
              let x="tr-"+/*[[${property}]]*/ null;
              let subProperty = "translation-"+/*[[${property}]]*/ null;
              //let property ="translation"+ /*[[${property}]]*/ null;
              let property ="translations";
             // let subProperty = /*[[${subProperty}]]*/ null;
              let objectType = /*[[${objectType}]]*/ null;
             
              let button = $(`#show-property-button-${name}`);
             
              let selector = `.result-list-item-element.${property}`;
              let selector1 = `.result-list-item-element.${property}`;
            
             
              if (subProperty != null) {
                selector = `${selector} .${subProperty}`;
                selector1 = `${selector1} .${x}`;
              }
              if(name!="de") {
            	                 button.children('i#on').toggle();
              }
              else {button.children('i#off').toggle(); $(selector1).toggle(); $(selector).toggle();
             
              }
             
              
              
             // else {button.children('i#off').toggle(); $(selector1).toggle(); $(selector).toggle();}
              if(name!="de") {
                       if ((getUserSetting(`${objectType}-results-show-property-${name}`) != 'true')) {
            	  
            	 // if (getCookie(`${name}`) == 'true') {
                          button.children('i').toggle();
                         $(selector1).toggle();$(selector).toggle();
                       }
            	  }    
                  else{
            	    if ((getUserSetting(`${objectType}-results-show-property-${name}`) != 'false')) {
                	  
                 	 // if (getCookie(`${name}`) == 'true') {
                     button.children('i').toggle();
                     $(selector1).toggle();$(selector).toggle();
                   }
              }
              
           
              button.click(() => {
            	  $(selector1).fadeToggle('slow');$(selector).fadeToggle('slow');
                button.children('svg').toggle();
              storeUserSetting(`${objectType}-results-show-property-${name}`,""+ button.children('svg#on').attr('style') == 'display: none;');
              });
            }
            //]]>
          </script>
        </button>
      </th:block>



      <!-- Pagination.
        Iterates through the `pages` field of a `tla.web.model.ui.Pagination` object and renders a simple basic
        bootstrap pagination bar. The input object must be in the view model under key "pagination".
      -->
      <nav aria-label="Pagination" th:object="${pagination}" th:fragment="search-results-pagination" class="search-results-pagination m-2" th:unless="${#lists.size(pagination.pages) == 1}">
        <ul class="pagination justify-content-center">
          <li th:each="page : *{pages}" class="page-item" th:classappend="(${page} == null) ? (disabled) : (${page} == *{currentPage} ? active : '')">
            <a th:if="${page} != null" class="page-link"
               th:href="${@templateUtils.replaceQueryParam('page', page).build()}"
               th:id="|page-link-${page}|"
               th:text="${page}"
            >
              Page#
            </a>
            <a th:if="${page} == null" class="page-link">&hellip;</a>
          </li>
        </ul>
      </nav>


      <!-- result page description -->

      <div class="result-page-desc" th:object="${pagination}" th:fragment="result-page-desc">  
        <span th:text="#{result_page_description_left}">Results</span>:
        <b class="mx-1" th:text="|*{fromResult} - *{toResult}|">1 - 24</b>
        <span class="font-italic" th:text="#{result_page_description_middle}">of</span>
        <b class="mx-1" th:text="*{totalResults}">140</b>
        <span th:text="#{|result_page_description_right_${objectType}*{(totalResults > 1) ? 's' : ''}|}">dictionary entries</span>.
      </div>


      <!-- Modify/Back to Search button -->

      <div th:fragment="modify-search-button(modifySearchUrl)">
        <a th:href="${modifySearchUrl}">
          <button type="button" class="btn btn-block btn-red text-left text-decoration-none modify-search-btn">
            <span class="fas fa-arrow-circle-left"></span>
            <span th:text="#{button_label_modify_search}">Modify search</span>
          </button>
        </a>
      </div>

      <!-- Collapsed sentence path -->
      <div th:fragment="search-result-object-paths(objType)">
        <th:block th:with="controller = |${objType}Controller|">
         <th:block th:with="objectPaths = ${@__${controller}__.createObjectPathLinks(obj)}">
          <p>
            <div th:replace="fragments/common::object-paths(${objectPaths},true)"/>
          </p>
         </th:block>
        </th:block>
      </div>
      
      <!-- Sentence reference buttons -->
      
      <span th:fragment="sentence-page-button">
            <a th:href="${(#mvc.url('SC#getSingleObjectDetailsPage').arg(0,obj.id)).build()}">
               <button type="button" class="btn btn-sm btn-outline-danger text-left text-decoration-none m-2">
                  <span class="fas fa-arrow-circle-right"></span>&nbsp;
                  <span th:text="#{button_sentence_page}">Go to/quote sentence</span>
               </button>
            </a>
      </span>
      
      <span th:fragment="sentence-cotext-button">
            <a th:href="${(#mvc.url('TOC#getSingleObjectDetailsPage').arg(0,obj.context.textId)).build()+'/sentences?page=' + (obj.context.position / 10 + 1) + '#sentence-' + (obj.context.position + 1)}">
               <button type="button" class="btn btn-sm btn-outline-danger text-left text-decoration-none m-2">
                  <span class="fas fa-arrow-circle-right"></span>&nbsp;
                  <span th:text="#{button_sentence_in_text_start}+' '+${obj.context.position + 1}+' '+#{button_sentence_in_text_end}">Sentence in text</span>
               </button>
            </a>
            <!--<th:block th:include="fragments/common :: construction(#{button_sentence_in_text_warning})"></th:block>-->
      </span>    

      
  </body>
</html>
